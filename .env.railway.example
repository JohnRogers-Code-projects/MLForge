# Railway Environment Variables Template
# Copy and configure these variables in your Railway project settings
# DO NOT commit actual values - this is a template only

# ============================================
# Backend API Service
# ============================================

# Database (Railway provides ${{Postgres.DATABASE_URL}})
DATABASE_URL=${{Postgres.DATABASE_URL}}

# Redis (Railway provides ${{Redis.REDIS_URL}})
REDIS_URL=${{Redis.REDIS_URL}}

# Application Settings
ENVIRONMENT=production
DEBUG=false
SECRET_KEY=<generate-32-char-random-string>

# CORS - Set to your frontend Railway domain
CORS_ORIGINS=["https://your-frontend.railway.app"]

# Model Storage
# IMPORTANT: Railway containers are ephemeral - files stored under
# MODEL_STORAGE_PATH will be lost on restart/redeploy unless you:
# 1. Configure a Railway persistent volume mounted at this path, OR
# 2. Use external storage (S3, etc.) and update the storage service
MAX_MODEL_SIZE_MB=100
MODEL_STORAGE_PATH=/app/model_storage

# Cache Settings
CACHE_MODEL_TTL=3600
CACHE_MODEL_LIST_TTL=300
CACHE_PREDICTION_TTL=300

# Job Settings
JOB_RETENTION_DAYS=30

# ============================================
# Celery Worker Service
# ============================================
# Uses same database/redis variables as Backend API, plus:

# Celery broker and result backend (defaults to REDIS_URL if not set)
CELERY_BROKER_URL=${{Redis.REDIS_URL}}
CELERY_RESULT_BACKEND=${{Redis.REDIS_URL}}

# ============================================
# Frontend Service
# ============================================

# API URL - Set to your backend Railway domain
NEXT_PUBLIC_API_URL=https://your-backend.railway.app

# NextAuth Configuration
NEXTAUTH_URL=https://your-frontend.railway.app
NEXTAUTH_SECRET=<generate-32-char-random-string>

# GitHub OAuth (from GitHub Developer Settings)
GITHUB_ID=<your-github-oauth-app-id>
GITHUB_SECRET=<your-github-oauth-app-secret>

# ============================================
# Railway Service References
# ============================================
# Use these references in Railway to link services:
#
# Database URL: ${{Postgres.DATABASE_URL}}
# Redis URL: ${{Redis.REDIS_URL}}
# Backend URL: ${{backend.RAILWAY_PUBLIC_DOMAIN}}
# Frontend URL: ${{frontend.RAILWAY_PUBLIC_DOMAIN}}
